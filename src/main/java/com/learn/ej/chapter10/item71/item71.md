# 필요 없는 검사 예외 사용은 피하라

### 검사 예외의 특징
- API와 프로그램의 질을 높임
- 발생한 문제를 프로그래머가 처리하여 안전성을 높임
- 과하게 사용하면 쓰기 불편한 API가 됨
    - catch블록에서 예외를 잡아서 처리하거나 더 바깥으로 던저야 함
    - 검사 에외를 던지는 메서드는 스트림 안에서 직접 사용할 수 없음
- 메서드가 단 하나의 검사 예외만 던질 경우 부담이 제일 큼
    - 또 다른 검사 예외를 추가하는 경우라면 catch문 하나만 추가하면 됨
    - 검사 예외가 단 하나뿐이라면 그 예외 때문에 try 블록을 추가해야하고 스트림에서 직접 사용하지 못함
- 이러한 특징들 때문에 검사예외가 꼭 필요한지, 안던지는 방법이 없는지 고민해야 함

### 검사 예외를 회피하는 방법
- 적절한 결과 타입을 담은 옵셔널을 반환
    - 검사 예외를 던지는 대신 빈 옵셔널 반환
    - 예외가 발생한 이유를 알려주는 부가정보를 담을 수 없는 단점
- 검사 예외를 던지는 메서드를 2개로 쪼개 비검사 예외로 바꿈
    - 첫 번째 메서드는 예외가 던져질지 여부를 boolean으로 반환
    - actionPermitted는 상태 검사 메서드에 해당하므로 item69에 나온 단점도 그대로 적용되므로 주의 필요
    - 즉, 외부 동기화 없이 여러 스레드가 동시에 접근할 수 있거나 외부 요인에 의해 상태가 변할 수 있다면 부적합함
    - actionPermitted와 action 호출 사이에 객체의 상태가 변할 수 있기 때문
    - actionPermitted가 action 메서드의 작업 일부를 중복 수행한다면 성능면에서 손해이므로 이 경우도 부적합함
```java
if (obj.actionPermitted(args)) {
    obj.action(args);
} else {
    ... // 예외 상황에 대처한다
} 
```
    


